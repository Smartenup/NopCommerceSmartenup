"use strict";function CheckoutAttributesController(n,t,i,r,u){function s(){for(var n,i,t=0;t<f.checkoutAttributesData.length;t++)n=f.checkoutAttributesData[t],n.values&&n.values.length>0&&(n.haveRequiredOption=n.isRequired,i=$.grep(n.values,function(n){return n.isPreSelected}),n.attributeControlType=="RadioList"||n.attributeControlType=="Checkboxes"?i.length>0&&(n.haveRequiredOption=!1):n.attributeControlType=="DropdownList"&&(f.modelsData[n.id]||(f.modelsData[n.id]={}),f.modelsData[n.id].dropdownListModel=i.length>0?i[0]:n.values[0]))}var f=this,o,e;for(f.checkoutAttributesData=[],r.load(!0),n.$on("refresh",function(){var n=r.get();angular.copy(n,f.checkoutAttributesData);f.checkoutAttributesData.length>0&&!angular.isDefined(f.modelsData)&&(f.modelsData={},s());u.hideOverlay(".checkout-attributes-loader")}),n.$on("setCheckoutAttributesOverlay",function(){u.showOverlay(".checkout-attributes-loader")}),t.$watch("vm.checkoutAttributesData",function(n,t){n&&t&&setTimeout(function(){r.set(n)})},!0),f.hasAvailableAttributes=function(){for(var n,i=!1,t=0;t<f.checkoutAttributesData.length;t++)n=f.checkoutAttributesData[t],i|=n.customProperties.enabled&&n.attributeControlType!="FileUpload"&&n.attributeControlType!="ColorSquares";return i},f.days=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],f.months=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],f.years=[],o=(new Date).getFullYear(),e=0;e<2;e++)f.years.push(o+e)}angular.module("realOnePageCheckout.checkoutAttributes").controller("CheckoutAttributesController",CheckoutAttributesController);CheckoutAttributesController.$inject=["$rootScope","$scope","$window","checkoutAttributesContext","objectUtility"];